
<body>
    <ul>
      <li>
        <a (click)="transactionhistory()">Show Transaction History</a>
      </li>
      <li>
        <a (click)="view()">View Balance</a>
      </li>
      <li>
        <a (click)="changePIN()">Change PIN</a>
      </li>
      <li>
        <a (click)="getAccount()">Bank Transfer</a>
      </li>
      <li>
        <a (click)="backPage()">Back</a>
      </li>

    </ul>     
</body>

<!--Recepit -->

<div *ngIf="invoice">
    <div class="form-group"><br>

        <div class="table-responsive" id="htmlData">
          <table class="table-striped" border="5" BORDERCOLOR=white align="center" cellpadding="10" cellspacing="10"
            class="table text-white">
            {{errorMessage}}
            <thead class="thead text-dark" style="background-color:white;opacity: .6;right: 12px;">
              <tr>
                <th style=" margin-right: 400px; color: black;"><b>Customer Name: {{senderDetails.accountType.customer.name}}</b></th>
                <th style=" color: black;margin-right: 600px;"><b>Balance: {{senderDetails.balance | currency:'INR'}}</b></th>
              </tr>
            </thead>
            <tr>
                <th>Account Name  </th><td> {{senderDetails.accountType.customer.name}}</td>
            </tr>
            <tr>
                <th>Account No  </th><td>{{senderDetails.accountType.accountNo}}</td>
            </tr>
            <tr>
                <th>IFSC Code  </th><td>{{senderDetails.accountType.customer.branch.ifscCode}}</td>
            </tr>
            <tr>
                <th>Mobile No </th><td>{{senderDetails.accountType.customer.mobileNo}}</td>
            </tr>
            <tr>
                <th>Email Id </th><td>{{senderDetails.accountType.customer.email}}</td>
            </tr>
            <tr>
               <th> Account Type </th><td>{{senderDetails.accountType.type}}</td>
            </tr>
            <tr>
                <th> Sent Amount</th><td>{{sendAmount}}</td>
             </tr>
             <tr>
                <th> Sent To</th><td>{{receiverDetails.accountType.accountNo}}</td>
             </tr>
             <tr>
                <th> Transaction date</th><td>{{date |  date: 'dd/MM/yyyy HH:mm:ss'}}</td>
             </tr>
            
          </table>
         
        </div>
        <button class="btn btn-primary" style="margin-left: 630px" (click)="openPDF()">Download Recepit</button>&nbsp; &nbsp;&nbsp; &nbsp;
        <button  class="btn btn-info" (click)=back()>Back</button>&nbsp;&nbsp;
        
    </div>
</div>

<!--Bank Transfer -->
<div class="reglist" style="margin-top: 30px;" *ngIf=transferAmt>
  <form novalidate [formGroup]="bankTransferForm" style="margin-left: 550px;width: 300px;" (ngSubmit)="transferAmountByAccount()">
    
    <h3>Enter Recipient Details</h3><br>
    <h6><font color="red"> &nbsp;&nbsp;&nbsp;{{errorMessage}}</font></h6>
       
    <fieldset>

        <div class="form-group">
            <label>*To Account Number</label><br>
            <input type="number" class="form-control" formControlName="recieverAccount">
         <div class="alert alert-danger"
            *ngIf="bankTransferForm.get('recieverAccount').hasError('required') && bankTransferForm.get('recieverAccount').dirty">
                Account Number is required
        </div>
        </div><br>

        
        <div class="form-group">
            <label>*Amount</label><br>
            <input type="number" class="form-control" formControlName="amount" >
         <div class="alert alert-danger"
            *ngIf="bankTransferForm.get('amount').hasError('required') && bankTransferForm.get('amount').dirty">
                Amount required
        </div> 
        <div class="alert alert-danger"
            *ngIf="bankTransferForm.get('amount').hasError('min') && bankTransferForm.get('amount').dirty">
                Amount should be geater than 0
        </div>
        </div><br>

        <div class="form-group">
            <label>Message</label><br>
            <input type="text" class="form-control" formControlName="message" >

        </div><br>

        <div class="form-group">
            <label>*Transaction PIN</label><br>
            <input type="pin" class="form-control" formControlName="pin">
        </div><br><br>
        <button type="submit" class="btn btn-primary" [disabled] ="bankTransferForm.invalid" style="margin-left: 30px">Transfer</button>&nbsp;&nbsp;
        <button  class="btn btn-success" type="reset">Reset</button>&nbsp;&nbsp;
        <button class="btn btn-info" (click)=back()>Back</button>&nbsp;&nbsp;
        
         </fieldset>
   </form>
  
</div>

<!--View Account Balance -->
    <div class="reglist" style="margin-top: 100px;">
     <form novalidate [formGroup]="viewBalanceForm" style="margin-left: 550px;width: 300px;" (ngSubmit)="viewBalance()">
        
        <fieldset>
            <div class="form-group"  *ngIf=viewBal>
                <h3>View Account Balance</h3><br>
                <label>*Transaction PIN</label><br>
                <input type="password" class="form-control" formControlName="password">
            </div><br><br>
            <button  *ngIf=viewBal type="submit" class="btn btn-primary" [disabled] ="viewBalanceForm.invalid" style="margin-left: 30px">Submit</button>&nbsp;&nbsp;
            <button  *ngIf=viewBal class="btn btn-success" type="reset">Reset</button>&nbsp;&nbsp;
            <button  *ngIf=viewBal class="btn btn-info" (click)=back()>Back</button>&nbsp;&nbsp;
        
            <!--Show Balance -->
            <div class="form-group" *ngIf=showBalance>
                <label class="avail">AVAILABLE BALANCE</label><br><br>
                <input style="text-align: center;" class="form-control" type="text" value={{senderBalance}} readonly><br><br>
         
           <button style="margin-left: 130px;" class="avail" (click)=back() class="bt btn-success">Back</button>&nbsp;&nbsp;
        </div>
     </fieldset>
    </form>
    </div>
    
<div class="reglist" *ngIf=showDetails>
    <table>
    <tr>
        <th>Account No  </th><td>{{senderDetails.accountType.accountNo}}</td>
    </tr>
    <tr>
        <th>IFSC Code  </th><td>{{senderDetails.accountType.customer.branch.ifscCode}}</td>
    </tr>
    <tr>
        <th>Mobile No </th><td>{{senderDetails.accountType.customer.mobileNo}}</td>
    </tr>
    <tr>
        <th>Email Id </th><td>{{senderDetails.accountType.customer.email}}</td>
    </tr>
    <tr>
       <th> Account Type </th><td>{{senderDetails.accountType.type}}</td>
    </tr>
    
</table>
<br><br><br>
</div>
